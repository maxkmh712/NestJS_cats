## 로그인 서비스
만드는 법
- 세션 쿠키
- 토큰
- JWT

## JWT
json 형태로 사용자 정보 저장하는 웹 토큰

:: 형태 
 
-> aaaaa.bbbbb.ccccc

-> 헤더.페이로드.시그니쳐
- 헤더 : base64 인코딩 토큰의 타입과 알고리즘
- 페이로드 : base64 인코딩 데이터 key-value
- 시그니쳐 : 헤더와 페이로드를 조합해서 비밀키로 서명한 후 base64로 인코딩


:: 로그인 과정
1. 프론트엔드에서 로그인 요청 보냄 ( 이메일, 비번 바디에 담아서 보냄)
2. 백엔드에서 이것을 받아서 시크릿키를 사용해서 jwt를 만들어준다
3. 만들어진 jwt를 발급해서 프론트에게 보내준다
4. 그럼 프론트엔드는 그 jwt를 받아서 안전한 곳에 저장해둔다 (로컬스토리지, HTTP Only cookie)

:: 인증 과정
1. 이미 로그인한 상태
2. 로그인이 필요한 기능을 해야할 경우 Header 에다가 jwt를 담아서 백에게 보낸다
3. 백엔드는 그것을 받아서 jwt guard를 통해서 jwt strategy를 실행해준다
4. jwt strategy 여기서 시크릿키로 디코딩을 해서 해당하는 유저를 request.user에 저장한다
5. request.user 이 정보로 요청받은 API 응답을 보낸다

미들웨어 -> 가드 -> 인터셉터 -> 파이프 -> 컨트롤러 -> 서비스 -> 인터셉터 -> 예외처리 -> 응답



## 따라하기
``` nest g mo auth ``` : 모듈 만들기 -> 이렇게 하면 앱 모듈에 자동 추가
``` nest g service auth ``` : 서비스 만들기